{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5ea49cee\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"header\", null, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"d-flex justify-content-center\"\n}, \"My movies\"), /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"d-flex justify-content-center\"\n}, \"Aleksander Jóźwiak\")], -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"currentColor\",\n  class: \"bi bi-cloud-arrow-down\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  \"fill-rule\": \"evenodd\",\n  d: \"M7.646 10.854a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 9.293V5.5a.5.5 0 0 0-1 0v3.793L6.354 8.146a.5.5 0 1 0-.708.708l2 2z\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z\"\n})], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"table table-striped\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \" Id \", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \" Title \", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \" Director \", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \" Year \", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \" Rate \", -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"currentColor\",\n  class: \"bi bi-plus-circle\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\n})], -1 /* HOISTED */));\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"currentColor\",\n  class: \"bi bi-pencil-square\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  \"fill-rule\": \"evenodd\",\n  d: \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"\n})], -1 /* HOISTED */));\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"currentColor\",\n  class: \"bi bi-trash3\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"\n})], -1 /* HOISTED */));\nconst _hoisted_15 = [_hoisted_14];\nconst _hoisted_16 = {\n  class: \"modal fade\",\n  id: \"movieModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"addMovie\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_17 = {\n  class: \"modal-dialog modal-lg modal-dialog-centered\"\n};\nconst _hoisted_18 = {\n  class: \"modal-content\"\n};\nconst _hoisted_19 = {\n  class: \"modal-header\"\n};\nconst _hoisted_20 = {\n  class: \"modal-title\",\n  id: \"addMovie\"\n};\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_22 = {\n  class: \"modal-body\"\n};\nconst _hoisted_23 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, \"Title\", -1 /* HOISTED */));\nconst _hoisted_25 = {\n  key: 0,\n  class: \"help\"\n};\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, \"Director\", -1 /* HOISTED */));\nconst _hoisted_27 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, \"Year\", -1 /* HOISTED */));\nconst _hoisted_28 = {\n  key: 0,\n  class: \"help\"\n};\nconst _hoisted_29 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, \"Rate\", -1 /* HOISTED */));\nconst _hoisted_30 = {\n  key: 0,\n  class: \"help\"\n};\nconst _hoisted_31 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-footer\"\n}, null, -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    id: \"downloadBtn\",\n    class: \"btn btn-light mr-1\",\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.downloadClick())\n  }, [_hoisted_2, _createTextVNode(\" Download movies \")]), _createElementVNode(\"table\", _hoisted_3, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_4, _hoisted_5, _hoisted_6, _hoisted_7, _hoisted_8, _createElementVNode(\"th\", null, [_createElementVNode(\"button\", {\n    id: \"addBtn\",\n    class: \"btn btn-light mr-1 fload-end\",\n    \"data-bs-toggle\": \"modal\",\n    \"data-bs-target\": \"#movieModal\",\n    type: \"button\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.addClick())\n  }, [_hoisted_9, _createTextVNode(\" Add movie \")])])])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.movies, (mov, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(mov.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(mov.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(mov.director), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(mov.year), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(mov.rate), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-light mr-1 fload-end\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#movieModal\",\n      type: \"button\",\n      onClick: $event => $options.editClick(mov)\n    }, _hoisted_12, 8 /* PROPS */, _hoisted_10), _createElementVNode(\"button\", {\n      class: \"btn btn-light mr-1 fload-end\",\n      type: \"button\",\n      onClick: $event => $options.deleteClick(mov.id)\n    }, _hoisted_15, 8 /* PROPS */, _hoisted_13)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"h5\", _hoisted_20, _toDisplayString($data.modalTitle), 1 /* TEXT */), _hoisted_21]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", null, [_hoisted_24, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.state.title = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.state.title]]), $setup.v$.title.$error ? (_openBlock(), _createElementBlock(\"span\", _hoisted_25, _toDisplayString($setup.v$.title.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_hoisted_26, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.state.director = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.state.director]])]), _createElementVNode(\"div\", null, [_hoisted_27, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.state.year = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.state.year]]), $setup.v$.year.$error ? (_openBlock(), _createElementBlock(\"span\", _hoisted_28, _toDisplayString($setup.v$.year.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_hoisted_29, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.state.rate = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.state.rate]]), $setup.v$.rate.$error ? (_openBlock(), _createElementBlock(\"span\", _hoisted_30, _toDisplayString($setup.v$.rate.$errors[0].$message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), $data.id == -1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    type: \"button\",\n    onClick: _cache[6] || (_cache[6] = $event => $options.createClick()),\n    class: \"btn btn-light mr-1\"\n  }, \" Create \")) : _createCommentVNode(\"v-if\", true), $data.id > -1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    type: \"button\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.updateClik()),\n    class: \"btn btn-light mr-1\"\n  }, \" Update \")) : _createCommentVNode(\"v-if\", true)]), _hoisted_31])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","xmlns","width","height","fill","viewBox","d","_hoisted_11","_hoisted_14","id","tabindex","type","_hoisted_1","onClick","$options","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createElementBlock","_Fragment","$data","mov","index","key","title","director","year","rate","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","$setup","$error","_hoisted_25","$errors","$message","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31"],"sourceRoot":"","sources":["C:\\Users\\jozwi\\source\\repos\\MyMovies\\Web\\my-movies\\src\\components\\MovieList.vue"],"sourcesContent":["<template>\n  <header>\n    <h1 class=\"d-flex justify-content-center\">My movies</h1>\n    <h5 class=\"d-flex justify-content-center\">Aleksander Jóźwiak</h5>\n  </header>\n  <div>\n    <button id=\"downloadBtn\" class=\"btn btn-light mr-1\" type=\"button\" @click=\"downloadClick()\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-cloud-arrow-down\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M7.646 10.854a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 9.293V5.5a.5.5 0 0 0-1 0v3.793L6.354 8.146a.5.5 0 1 0-.708.708l2 2z\"/>\n        <path d=\"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z\"/>\n        </svg>\n        Download movies\n    </button> \n    <table class=\"table table-striped\">\n        <thead>\n            <tr>\n                <th>\n                    Id\n                </th>\n                <th>\n                    Title\n                </th>\n                <th>\n                    Director\n                </th>\n                <th>\n                    Year\n                </th>\n                <th>\n                    Rate\n                </th>\n                <th>\n                    <button id=\"addBtn\" class=\"btn btn-light mr-1 fload-end\" data-bs-toggle=\"modal\" data-bs-target=\"#movieModal\" type=\"button\" @click=\"addClick()\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-plus-circle\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n                        <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\n                        </svg>\n                        Add movie\n                    </button> \n                    \n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"(mov, index) in movies\" v-bind:key=\"index\">\n                <td>{{mov.id}}</td>\n                <td>{{mov.title}}</td>\n                <td>{{mov.director}}</td>\n                <td>{{mov.year}}</td>\n                <td>{{mov.rate}}</td>\n                <td>\n                    <button class=\"btn btn-light mr-1 fload-end\" data-bs-toggle=\"modal\" data-bs-target=\"#movieModal\" type=\"button\" @click=\"editClick(mov)\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-square\" viewBox=\"0 0 16 16\">\n                            <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"/>\n                            <path fill-rule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"/>\n                        </svg>\n                    </button>\n                    <button class=\"btn btn-light mr-1 fload-end\" type=\"button\" @click=\"deleteClick(mov.id)\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash3\" viewBox=\"0 0 16 16\">\n                            <path d=\"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"/>\n                        </svg>\n                    </button>\n                </td>\n            </tr>\n        </tbody>\n        </table>\n  </div>\n\n  <div class=\"modal fade\" id=\"movieModal\" tabindex=\"-1\" aria-labelledby=\"addMovie\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"addMovie\">{{ modalTitle }}</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n            <div class=\"input-group mb-3\">\n                <div>\n                    <span class=\"input-group-text\">Title</span>\n                    <input type=\"text\" class=\"form-control\" v-model=\"state.title\" >\n                    <span class=\"help\" v-if=\"v$.title.$error\"> {{ v$.title.$errors[0].$message }}</span>\n                </div>\n                <div>\n                    <span class=\"input-group-text\">Director</span>\n                    <input type=\"text\" class=\"form-control\" v-model=\"state.director\">\n                </div>  \n                <div>\n                    <span class=\"input-group-text\">Year</span>\n                    <input type=\"number\" class=\"form-control\" v-model=\"state.year\">\n                    <span class=\"help\" v-if=\"v$.year.$error\"> {{ v$.year.$errors[0].$message }}</span>\n                </div>  \n                <div>\n                    <span class=\"input-group-text\">Rate</span>\n                    <input type=\"number\" class=\"form-control\" v-model=\"state.rate\">\n                    <span class=\"help\" v-if=\"v$.rate.$error\"> {{ v$.rate.$errors[0].$message }}</span>\n                </div>  \n            </div>\n            \n            <button type=\"button\" @click=\"createClick()\" v-if=\"id==-1\" class=\"btn btn-light mr-1\">\n              Create\n            </button>\n            <button type=\"button\" @click=\"updateClik()\" v-if=\"id>-1\" class=\"btn btn-light mr-1\">\n              Update\n            </button>\n        </div>\n        <div class=\"modal-footer\">\n        </div>\n      </div>\n    </div>\n</div>\n</template>\n\n\n<script>\nimport axios from 'axios'\nimport useValidate from '@vuelidate/core'\nimport { between, required, maxLength} from '@vuelidate/validators'\nimport { reactive, computed } from 'vue'\n\nexport default {\nname: 'MovieList',\n\nsetup(){\n    const state = reactive({\n        title: \"\",\n        director: \"\",\n        year: 0,\n        rate: 0,\n    })\n\n    const rules = computed(() => {\n        return {\n            title: {\n                required,\n                maxLength: maxLength(200),\n            },\n            year: {\n                required,\n                between: between(1900, 2200),\n            },\n            rate: {\n                between: between(0, 10),\n            }\n        }\n    })\n\n    const v$ = useValidate(rules, state)\n\n    return {\n        state,\n        v$,\n    }\n},\n\ndata(){\n    return {\n        \n        movies:[],\n        outsideMovies:[],\n        modalTitle:\"\",\n        id: -1,\n        \n    };\n},\n\nmethods:{\n    refreshData(){\n        axios.get(\"https://localhost:7090/data\").then((response)=>{\n            this.movies = response.data;\n        });\n        axios.get(\"http://localhost:8080/MyMovies\").then((response)=>{\n            this.outsideMovies = response.data;\n        });\n    },\n    copyCheck(){\n        var titles = new Set(this.movies.map(d => d.title));\n        var merged = [...this.movies, ...this.outsideMovies.filter(d => !titles.has(d.title))];\n        console.log(merged)\n        Array.prototype.diff = function(a) {\n            return this.filter(function(i) {return a.indexOf(i) < 0;});\n        };\n        var diffrence = merged.diff(this.movies);  \n        console.log(diffrence);\n        diffrence.forEach(element => {\n            axios.post(\"https://localhost:7090/create\", {\n                title: element.title,\n                director: element.director,\n                year: element.year,\n                rate: element.rate\n            })\n        });\n        this.refreshData();\n    },\n    downloadClick() {\n        this.copyCheck();\n        this.refreshData();\n    },\n    addClick() {\n       this.modalTitle = \"Add movie\";\n       this.id = -1;\n       this.state.title = \"\";\n       this.state.director = \"\";\n       this.state.year = 0;\n       this.state.rate = 0;\n    },\n    editClick(mov) {\n       this.modalTitle = \"Edit movie\";\n       this.id = mov.id;\n       this.state.title = mov.title;\n       this.state.director = mov.director;\n       this.state.year = mov.year;\n       this.state.rate = mov.rate;\n    },\n    createClick() {\n        this.v$.$validate() \n        if (!this.v$.$error) {\n            axios.post(\"https://localhost:7090/create\", {\n                title: this.state.title,\n                director: this.state.director,\n                year: this.state.year,\n                rate: this.state.rate\n            })\n            .then(\n                alert(\"Created data\"),\n                this.refreshData()\n            );\n        } else {\n            alert(\"Valid form values\")\n        } \n    },\n    updateClik() {\n        this.v$.$validate() \n        if (!this.v$.$error) {\n            axios.put(\"https://localhost:7090/update\", {\n                id: this.id,\n                title: this.state.title,\n                director: this.state.director,\n                year: this.state.year,\n                rate: this.state.rate\n            })\n            .then(\n                alert(\"Updated data\"),\n                this.refreshData()\n            );\n        } else {\n            alert(\"Valid form values\")\n        } \n    },\n    deleteClick(id){\n        if(!confirm(\"Are you sure?\")){\n            return;\n        }\n        axios.delete(\"https://localhost:7090/delete?id=\" + id)\n        .then(\n            alert(\"Deleted data\"),\n            this.id = -1,\n            this.refreshData()\n        );\n    },\n    \n},\nmounted:function(){\n    this.refreshData();\n}\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#addBtn{\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n    border: none;\n    width: 85%;\n    height: 85%;\n    border-radius: 5%;\n    width: 120px;\n    height: 40px;\n}\n.btn {\n    background-color: #4ec1de;\n    transition-duration: 0.3s;\n}\n.btn:hover {\n    background-color: gold;\n}\nheader {\n    width: 100%;\n    height: 150px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: #4ec1de;\n}\ntable, tbody, thead {\n    width: 100%;\n}\nth {\n    align-items: center;\n}\ntr, th {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    height: 60px;\n}\ntd {\n    width: 16.7%;\n}\n.modal-body {\n    width: 100%;\n}\n.input-group {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n}\n.input-group > div{\n    display: flex;\n    height: 100px;\n    width: 100%;\n}\n.input-group > input{\n    display: flex;\n    font-size: large;\n    height: 100px;\n    width: 60%;\n}\n.input-group-text{\n    width: 120px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: large;\n    font-weight: bold;\n}\n.help {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    font-size: smaller;\n    color: darkred;\n    width: 20%;\n}\n#downloadBtn {\n    margin: 15px;;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}